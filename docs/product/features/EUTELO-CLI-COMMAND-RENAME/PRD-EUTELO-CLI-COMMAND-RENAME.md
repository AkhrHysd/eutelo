---
id: PRD-EUTELO-CLI-COMMAND-RENAME
type: prd
feature: eutelo-cli-command-rename
title: Eutelo CLI コマンド名変更 PRD
purpose: >
  `eutelo guard` と `eutelo validate` コマンド名が実態を的確に表していないため、
  より適切なコマンド名に変更する。これにより、ユーザーがコマンドの機能を直感的に理解できるようにする。
status: draft
version: 0.1
parent: PRINCIPLE-GLOBAL
owners: ["@AkhrHysd"]
tags: ["cli", "command-rename", "usability"]
last_updated: "2025-01-27"
---

# PRD-EUTELO-CLI-COMMAND-RENAME
Eutelo CLI コマンド名変更

---

## Purpose

現在の `eutelo guard` と `eutelo validate` コマンド名は、それぞれの実態を的確に表していない。

- **`eutelo guard`**: 「保護する」「防御する」という意味で、実際の機能（ドキュメント間の一貫性チェック）を表していない
- **`eutelo validate`**: 一般的すぎる名前で、実際の機能（ユーザー定義ルールに対する検証）を明確に表していない

本機能は、これらのコマンド名を実態に即した適切な名前に変更し、ユーザーがコマンドの機能を直感的に理解できるようにする。

---

## Background

### 現状の問題

1. **`eutelo guard` の問題**
   - コマンド名が「保護する」「防御する」という意味で、実際の機能（ドキュメント間の一貫性チェック）を表していない
   - ユーザーがコマンドの機能を理解するのに時間がかかる
   - 説明文「Run the experimental document guard consistency checks」を見ないと機能が分からない

2. **`eutelo validate` の問題**
   - 一般的すぎる名前で、実際の機能（ユーザー定義ルールに対する検証）を明確に表していない
   - `eutelo guard`（ドキュメント間の整合性チェック）や `eutelo lint`（静的ルールチェック）との違いが分かりにくい
   - 説明文「Validate documents against user-defined rules」を見ないと機能が分からない

### 実際の機能

- **`eutelo guard`**: ドキュメント間の一貫性チェック（inter-document consistency checks）
  - 複数のドキュメント（PRD、BEH、DSG、ADRなど）の間の一貫性をLLMで検証
  - 関連ドキュメントを自動収集してクロスドキュメントの一貫性をチェック
  - プロンプトベースのガード機能

- **`eutelo validate`**: ユーザー定義ルールに対する検証
  - 個別ドキュメントをユーザー定義ルール（Markdown形式のルールファイル）に対して検証
  - ドキュメント自体が特定のルールに従っているかを検証
  - `eutelo guard`（ドキュメント間の整合性）や `eutelo lint`（静的ルール）とは異なる

---

## Goals / KPI

- コマンド名の候補を **3つ以上** 提示する
- 各候補名について、実態との適合性を評価する
- 最終的なコマンド名を選定する
- コマンド名変更後のユーザビリティ向上を確認する

---

## Scope

### In Scope

- `eutelo guard` の代替コマンド名候補の提示と評価
- `eutelo validate` の代替コマンド名候補の提示と評価
- コマンド名の選定基準の定義
- コマンド名変更の影響範囲の調査
- 後方互換性の検討（エイリアス、非推奨警告など）

### Out of Scope

- コマンドの機能自体の変更
- コマンドの実装の変更（名前変更に伴う必要最小限の変更を除く）
- 他のコマンド名の変更

---

## Requirements

### Functional Requirements (FR)

- **FR-01**: `eutelo guard` の代替コマンド名候補を **3つ以上** 提示する
- **FR-02**: `eutelo validate` の代替コマンド名候補を **3つ以上** 提示する
- **FR-03**: 各候補名について、以下の観点で評価する：
  - 実態との適合性（機能を的確に表しているか）
  - 直感性（ユーザーが機能を理解しやすいか）
  - 簡潔性（短く覚えやすいか）
  - 他コマンドとの差別化（`eutelo lint` などとの違いが明確か）
  - 一般的な用語との整合性
- **FR-04**: 最終的なコマンド名を選定する
- **FR-05**: コマンド名変更の影響範囲を調査する（CLI、ドキュメント、CI設定など）

### Non-Functional Requirements (NFR)

- **NFR-01**: コマンド名は **10文字以内** を推奨（タイピングのしやすさ）
- **NFR-02**: コマンド名は **英語の一般的な単語** を使用する
- **NFR-03**: コマンド名は **動詞または名詞** を使用する
- **NFR-04**: 後方互換性を考慮し、旧コマンド名をエイリアスとして残す（非推奨警告付き）

---

## Success Criteria

- コマンド名の候補が **3つ以上** 提示され、評価が完了している
- 最終的なコマンド名が選定されている
- コマンド名変更の影響範囲が明確になっている
- 後方互換性の対応方針が決定している

---

## Command Name Candidates

### `eutelo guard` の代替コマンド名候補

#### 候補1: `eutelo consistency`
- **説明**: ドキュメント間の一貫性チェックを明確に表す
- **評価**:
  - ✅ 実態との適合性: 高い（一貫性チェックを直接表す）
  - ✅ 直感性: 高い（「一貫性」という概念が明確）
  - ⚠️ 簡潔性: 中程度（11文字、やや長い）
  - ✅ 他コマンドとの差別化: 高い（`lint`、`validate` と明確に異なる）
  - ✅ 一般的な用語との整合性: 高い

#### 候補2: `eutelo cross-check`
- **説明**: クロスドキュメントのチェックを表す
- **評価**:
  - ✅ 実態との適合性: 高い（複数ドキュメント間のチェックを表す）
  - ✅ 直感性: 高い（「クロスチェック」という概念が明確）
  - ⚠️ 簡潔性: 低い（12文字、長い）
  - ✅ 他コマンドとの差別化: 高い
  - ✅ 一般的な用語との整合性: 高い

#### 候補3: `eutelo align`
- **説明**: ドキュメント間の整合性を取ることを表す
- **評価**:
  - ✅ 実態との適合性: 中程度（整合性を取るという意味）
  - ⚠️ 直感性: 中程度（「整合性チェック」という意味がやや間接的）
  - ✅ 簡潔性: 高い（5文字、短い）
  - ⚠️ 他コマンドとの差別化: 中程度
  - ✅ 一般的な用語との整合性: 高い

#### 候補4: `eutelo coherence`
- **説明**: ドキュメント間の一貫性を表す
- **評価**:
  - ✅ 実態との適合性: 高い（一貫性を直接表す）
  - ⚠️ 直感性: 中程度（「coherence」はやや専門的）
  - ⚠️ 簡潔性: 中程度（9文字）
  - ✅ 他コマンドとの差別化: 高い
  - ⚠️ 一般的な用語との整合性: 中程度（専門用語）

#### 候補5: `eutelo verify`
- **説明**: 検証を表す（一般的な用語）
- **評価**:
  - ⚠️ 実態との適合性: 低い（一般的すぎて、ドキュメント間の一貫性チェックを表していない）
  - ⚠️ 直感性: 低い（機能が不明確）
  - ✅ 簡潔性: 高い（6文字）
  - ❌ 他コマンドとの差別化: 低い（`validate` と似ている）
  - ✅ 一般的な用語との整合性: 高い

#### 候補6: `eutelo check`
- **説明**: チェックを表す（一般的な用語）
- **評価**:
  - ❌ 実態との適合性: 低い（一般的すぎて、ドキュメント間の一貫性チェックを表していない）
  - ❌ 直感性: 低い（機能が不明確）
  - ✅ 簡潔性: 高い（5文字）
  - ❌ 他コマンドとの差別化: 低い（一般的すぎる）
  - ✅ 一般的な用語との整合性: 高い

### `eutelo validate` の代替コマンド名候補

#### 候補1: `eutelo rule`
- **説明**: ルール検証を表す
- **評価**:
  - ✅ 実態との適合性: 高い（ユーザー定義ルールに対する検証を直接表す）
  - ✅ 直感性: 高い（「ルール」という概念が明確）
  - ✅ 簡潔性: 高い（4文字、短い）
  - ✅ 他コマンドとの差別化: 高い（`guard`、`lint` と明確に異なる）
  - ✅ 一般的な用語との整合性: 高い

#### 候補2: `eutelo enforce`
- **説明**: ルールの強制を表す
- **評価**:
  - ✅ 実態との適合性: 中程度（ルールの強制という意味）
  - ⚠️ 直感性: 中程度（「強制」という意味がやや堅い）
  - ✅ 簡潔性: 高い（7文字）
  - ✅ 他コマンドとの差別化: 高い
  - ✅ 一般的な用語との整合性: 高い

#### 候補3: `eutelo comply`
- **説明**: ルールへの準拠を表す
- **評価**:
  - ✅ 実態との適合性: 高い（ルールへの準拠を表す）
  - ⚠️ 直感性: 中程度（「準拠」という意味がやや間接的）
  - ✅ 簡潔性: 高い（6文字）
  - ✅ 他コマンドとの差別化: 高い
  - ✅ 一般的な用語との整合性: 高い

#### 候補4: `eutelo audit`
- **説明**: ルールの監査を表す
- **評価**:
  - ✅ 実態との適合性: 中程度（ルールの監査という意味）
  - ⚠️ 直感性: 中程度（「監査」という意味がやや堅い）
  - ✅ 簡潔性: 高い（5文字）
  - ✅ 他コマンドとの差別化: 高い
  - ✅ 一般的な用語との整合性: 高い

#### 候補5: `eutelo verify`
- **説明**: 検証を表す（一般的な用語）
- **評価**:
  - ⚠️ 実態との適合性: 低い（一般的すぎて、ユーザー定義ルールに対する検証を表していない）
  - ⚠️ 直感性: 低い（機能が不明確）
  - ✅ 簡潔性: 高い（6文字）
  - ❌ 他コマンドとの差別化: 低い（`guard` の候補と重複）
  - ✅ 一般的な用語との整合性: 高い

#### 候補6: `eutelo check`
- **説明**: チェックを表す（一般的な用語）
- **評価**:
  - ❌ 実態との適合性: 低い（一般的すぎて、ユーザー定義ルールに対する検証を表していない）
  - ❌ 直感性: 低い（機能が不明確）
  - ✅ 簡潔性: 高い（5文字）
  - ❌ 他コマンドとの差別化: 低い（一般的すぎる）
  - ✅ 一般的な用語との整合性: 高い

---

## Recommended Command Names

### `eutelo guard` → `eutelo align`

**選定理由**:
- 実態（ドキュメント間の整合性を取る）を的確に表している
- 簡潔で覚えやすい（5文字）
- 直感的で理解しやすい（「整合性を取る」という意味が明確）
- 他コマンド（`lint`、`rule`）との差別化が明確
- 一般的な用語としても適切

**選定**: ✅ 採用決定

### `eutelo validate` → `eutelo rule`

**選定理由**:
- 実態（ユーザー定義ルールに対する検証）を最も的確に表している
- 直感的で理解しやすい
- 簡潔で覚えやすい（4文字）
- 他コマンド（`align`、`lint`）との差別化が明確
- 一般的な用語としても適切

**選定**: ✅ 採用決定

---

## Dependencies / Related

- Behavior: `../EUTELO-CLI-COMMAND-RENAME/BEH-EUTELO-CLI-COMMAND-RENAME.md`（未作成）
- Design: `../../architecture/design/EUTELO-CLI-COMMAND-RENAME/DSG-EUTELO-CLI-COMMAND-RENAME.md`（未作成）
- ADR: `../../architecture/adr/EUTELO-CLI-COMMAND-RENAME/ADR-EUTELO-CLI-COMMAND-RENAME-0001.md`（未作成）
- Parent Principle: `../../../philosophy/principles/global-principles.md`
- Related: `../DOC-GUARD/PRD-DOC-GUARD.md`, `../DOC-RULE-VALIDATION/PRD-DOC-RULE-VALIDATION.md`

---

## Risks / Assumptions

### Risks

- **後方互換性の問題**: 既存のCI設定やスクリプトで旧コマンド名が使用されている場合、影響が大きい
- **ユーザーの混乱**: コマンド名変更により、既存ユーザーが混乱する可能性がある
- **ドキュメントの更新漏れ**: README、ドキュメント、サンプルコードなどで旧コマンド名が残る可能性がある

### Assumptions

- 旧コマンド名をエイリアスとして残し、非推奨警告を表示することで、移行期間を設ける
- 移行期間は **6ヶ月** を想定
- 移行期間後は旧コマンド名を削除する

---

## Migration Strategy

### Phase 1: 新コマンド名の追加（後方互換性維持）
- 新コマンド名（`eutelo align`、`eutelo rule`）を追加
- 旧コマンド名（`eutelo guard`、`eutelo validate`）をエイリアスとして残す
- 旧コマンド名使用時に非推奨警告を表示

### Phase 2: ドキュメントの更新
- README、ドキュメント、サンプルコードを新コマンド名に更新
- 移行ガイドを作成

### Phase 3: 旧コマンド名の削除（移行期間後）
- 移行期間（6ヶ月）後、旧コマンド名を削除
- エイリアスと非推奨警告を削除

---

## Notes

- コマンド名の選定は、ユーザビリティを最優先に考える
- 実態を的確に表すコマンド名を選ぶことで、ユーザーがコマンドの機能を直感的に理解できるようにする
- 後方互換性を考慮し、移行期間を設けることで、既存ユーザーへの影響を最小限に抑える

---

## References

- `eutelo guard` の実装: `packages/cli/src/index.ts`
- `eutelo validate` の実装: `packages/cli/src/index.ts`
- README: `README.md`, `README.jp.md`
- DOC-GUARD PRD: `../DOC-GUARD/PRD-DOC-GUARD.md`
- DOC-RULE-VALIDATION PRD: `../DOC-RULE-VALIDATION/PRD-DOC-RULE-VALIDATION.md`

---

